;/*FB_PKG_DELIM*/

__d("LSOptimisticSetPinnedMessage",["LSIssueNewTask","LSSetPinnedMessage"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSSetPinnedMessage"),a[0],a[1],a[2],a[3])},function(e){return c.i64.eq(a[3],[0,1])?(d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("timestamp_ms",a[2]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),["pin_msg_v2","_",c.i64.to_string(d[1])].join(""),[0,430],d[2],f,f,[0,0],[0,0],f,f,[0,0])):(d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("timestamp_ms",a[2]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),["unpin_msg_v2","_",c.i64.to_string(d[1])].join(""),[0,431],d[2],f,f,[0,0],[0,0],f,f,[0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MWPinnedMessagesDialogNUXFactoryRequireNUX.react",["nux:345"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return b("nux:345")==null?void 0:b("nux:345")("WEB_MSGR_PINNED_MESSAGES_NUX")};c=a;g["default"]=c}),98);
__d("useMWPinnedMessageLimitReached",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=50;function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("msg_pinned_messages_v2")).getKeyRange(a)},[b,a]).length;return e>=h}g["default"]=a}),98);
__d("LSPinnedMessageState",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_PINNED:0,PINNED:1});f["default"]=a}),66);
__d("useMWTogglePinMessage",["I64","LSFactory","LSOptimisticSetPinnedMessage","LSPinnedMessageState","MWPActor.bs","MWPBumpEntityKey","ServerTime","asyncToGeneratorRuntime","react","requireDeferred","useMWPIsMessagePinned","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=c("requireDeferred")("MWLogMessageAction.bs").__setRef("useMWTogglePinMessage");function a(a,e){var f=c("useReStore")(),g=c("useMWPIsMessagePinned")(a),j=a.messageId,k=a.threadKey,l=d("ServerTime").getMillis(),m=d("MWPActor.bs").useActor(),n=function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield f.runInTransaction(function(b){var h=g?c("LSPinnedMessageState").NOT_PINNED:c("LSPinnedMessageState").PINNED,n=g?"unpin":"pin";e==="message_dot_menu"?i.onReady(function(b){return b.log(f,a.messageId,k,e,n,void 0,void 0,void 0,a.senderId,void 0,m,void 0)}):n==="unpin"&&e==="pinned_message_list_dot_menu"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","unpin");return c("LSOptimisticSetPinnedMessage")(k,j,d("I64").of_int32(l),d("I64").of_int32(h),c("LSFactory")(b))},"readwrite")});return function(){return h.apply(this,arguments)}}();return h(n,[f,g,j,d("I64").to_string(k),l])}g["default"]=a}),98);
__d("MWPinMessageMenuItem.react",["fbt","JSResourceForInteraction","MWMenuItem.react","MWPinnedMessagesDialogNUXFactoryRequireNUX.react","promiseDone","react","useCometLazyDialog","useMWPIsMessagePinned","useMWPinnedMessageLimitReached","useMWTogglePinMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("JSResourceForInteraction")("MWPinnedMessageLimitReachedDialog.react").__setRef("MWPinMessageMenuItem.react");function a(a){var b=a.message,d=h._("__JHASH__SDjIWKr-fud__JHASH__"),e=h._("__JHASH__mSiYCxxiHcw__JHASH__"),f=c("useMWPIsMessagePinned")(b),g=c("MWPinnedMessagesDialogNUXFactoryRequireNUX.react")();a=c("useCometLazyDialog")(j);var k=a[0],l=c("useMWTogglePinMessage")(b,"message_dot_menu"),m=c("useMWPinnedMessageLimitReached")(b.threadKey);a=function(a){return g!=null?g({children:a,dialogProps:{onClose:function(){},pinMessageHandler:function(){return c("promiseDone")(l())}}}):i.jsx(i.Fragment,{children:a(function(){return c("promiseDone")(l())})})};var n=function(a){return i.jsx(c("MWMenuItem.react"),{onClick:function(d){if(m&&!f)return k({onClose:function(){},threadKey:b.threadKey});!f?a():c("promiseDone")(l())},primaryText:f?e:d})};return a(n)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPinnedMessagesDialogNUXFactory.react",["CometLazyDialogTrigger.react","JSResourceForInteraction","MWInboxPersistedUIState","declareNUXRequireable","react","useSharedNUX"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo,k=c("JSResourceForInteraction")("MWPinnedMessagesDialogNUX.react").__setRef("MWPinnedMessagesDialogNUXFactory.react");function a(a){return function(b){var e=b.children,f=b.dialogProps;b=c("useSharedNUX")(a);var g=b[0],l=b[1];b=d("MWInboxPersistedUIState").usePersistedUIState(void 0,"__MWSimpleNux."+a+"__");b[0];var m=b[1],n=i(function(){m(void 0),l.onDismiss()},[l,m]);b=j(function(){return{onClose:function(){},onDismiss:n,pinMessageHandler:f.pinMessageHandler}},[f,n]);return g?h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:b,dialogResource:k,children:function(a){return e(a)}}):e(f.pinMessageHandler)}}e=c("declareNUXRequireable")(a);g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("copiedLinkPushToast",["fbt","ix","TetraIcon.react","cometPushToast","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(){d("cometPushToast").cometPushToast({icon:j.jsx(c("TetraIcon.react"),{color:"positive",icon:d("fbicon")._(i("498146"),20),size:20}),message:h._("__JHASH__wd8epkaz0sz__JHASH__"),testid:"CometCopyLinkToast"},void 0)}g["default"]=a}),98);
__d("Clipboard",["Promise","UserAgent"],(function(a,b,c,d,e,f,g){function a(){return window.document&&window.document.queryCommandSupported instanceof Function&&window.document.queryCommandSupported("copy")&&!(c("UserAgent").isBrowser("Firefox < 41")||c("UserAgent").isPlatform("iOS < 10.3"))||c("UserAgent").isBrowser("Chrome >= 43")}function h(a,b){b=b||document.body;if(!b)return!1;var d=document.activeElement,e=!0,f=document.createElement("textarea");b.appendChild(f);f.value=a;if(c("UserAgent").isPlatform("iOS >= 10.3")){a=document.createRange();a.selectNodeContents(f);var g=window.getSelection();g.removeAllRanges();g.addRange(a);f.setSelectionRange(0,999999)}else f.select();try{e=document.execCommand("copy")}catch(a){e=!1}b.removeChild(f);d!=null&&d.focus();return e}function d(a){var c=window.navigator;if(c&&c.clipboard&&typeof c.clipboard.writeText==="function")return c.clipboard.writeText(a);return h(a)?b("Promise").resolve():b("Promise").reject()}g.isSupported=a;g.copy=h;g.copyAsync=d}),98);